<!DOCTYPE html>
<html lang="pt-br">
   <head>
      <link rel="shortcut icon" href="./assets/svg/milky-way.svg" type="image/x-icon">

      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>SPA - Universe</title>
   </head>
   <body>
      <nav>
         <img src="./assets/svg/milky-way.svg">
         <a href="/" onclick="route()">Home</a>
         <a href="/universe" onclick="route()">Universe</a>
         <a href="/exploration" onclick="route()">Exploration</a>
      </nav>

      <div id="app"></div>

      <script>
         const routes = {
            "/": "/pages/home.html",
            "/universe": "/pages/universe.html",
            "/exploration": "/pages/exploration.html",
            404: "/pages/404.html"
         }

         function route(event) {
            event = event || window.event
            event.preventDefault()

            window.history.pushState({}, "", event.target.href) // captura todo o href do evento alvo e coloca no historico

            handle()
         }

         function handle() {
            const { pathname } = window.location
            const route = routes[pathname] || routes[404]

            fetch(route)
            .then(data => data.text())
            .then(html => {
               document.getElementById("app").innerHTML = html
            })
         }

         window.onpopstate = () => handle()
         handle()
      </script>
   </body>
</html>